% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/dsdata.R
\name{make.dsdata}
\alias{make.dsdata}
\title{Make dsdata}
\usage{
make.dsdata(effort = NULL, geometry = NULL, mesh = NULL,
  mesh.coords = NULL, mesh.args = list())
}
\arguments{
\item{effort}{A data.frame object describing transects and detections}

\item{geometry}{Character describing the geometry of the data set. Either "euc" for euclidean or "geo" for geographic coordinates.}

\item{mesh}{An inla.mesh object modeling the domain.}

\item{mesh.coords}{Names of the effort columns that are interpreted as coordinates}

\item{mesh.args}{If no mesh if provided these arguments passed on to inla.mesh.create to construct the mesh.}
}
\value{
a \link{dsdata} object
}
\description{
Constructs a distance sampling data set from transects, detections and model of the survey area
}
\details{
The core item that this function needs is a \code{data.frame}, hereafter called \code{effort}
containing transect definitions, segments thereof, detections and possibly some covariates.
The effort table needs to have the following columns:

\itemize{
 \item{strat: }{ An identifier of the stratum }
 \item{trans: }{ An identifier of the transect }
 \item{seg: }{An identifier of a segment}
 \item{det: }{An identifier of a detection}
 \item{start.x}{x-coordinate of a transect's/semgent's starting point}
 \item{start.y}{y-coordinate of a transect's/semgent's starting point}
 \item{end.x}{x-coordinate of a transect's/semgent's end point}
 \item{end.y}{y-coordinate of a transect's/semgent's end point}
 \item{x}{x-coordinate of a detection (NA for transects and segments)}
 \item{y}{y-coordinate of a detection (NA for transects and segments)}
 \item{distance}{distance of the detection from the observer}
 }
 
 Note that in pinciple the coordinates can have arbitrary names which can be set by the mesh.coords
 parameter explained below. For instance, if \code{mesh.coords = c("lon",("lat")}, the columns above
 must be called 'lon' and 'lat' for detections and start.lon etc. for trensects and segments.
 
 If no \link{inla.mesh} is provided via the \code{mesh} parameter, \code{make.dsdata} will try to
 construct a mesh from the effort table. By default, an inner boundary segment is constructed from the
 non-convex hull of all detections and transect/segment points. Thereafter, a convex hull is found
 to create the mesh. As this might not reflect the reality of your data please consider to construct
 a mesh manually.
}
\examples{
\dontrun{ data(toy1) ; dset = make.dsdata(effort = toy1$effort) ; plot(dset) }
}
\author{
Fabian E. Bachl <\email{f.e.bachl@bath.ac.uk}>
}

