% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot.model.R
\name{plot.detfun}
\alias{plot}
\alias{plot.detfun}
\title{Plot a detection function}
\usage{
plot.detfun(model = NULL, result = NULL, distance.truncation = NULL,
  data = NULL, loc = NULL, prior = NULL, do.ecdf = FALSE,
  upper = NULL, mode = NULL, lower = NULL, integrate = FALSE,
  covariate = model$covariates[[name]], add = FALSE,
  add.uncertainty = TRUE, add.histogram = TRUE, breaks = "sturges",
  filter = NULL, col = rgb(250/256, 83/256, 62/256, 1),
  ucol = rgb(250/256, 83/256, 62/256, 0.3), ggp = TRUE, ...)
}
\arguments{
\item{model}{A \link{model} object}

\item{result}{An \link{inla} object, i.e. the result of running INLA}

\item{distance.truncation}{Distance at which to truncate}

\item{data}{iDistance data structure. Used to plot a histogram of the detections.}

\item{loc}{Distance and possibly covariates at which to plot at (optional).}

\item{prior}{A function representiong a prior probability for each location in the \code{loc} parameter}

\item{do.ecdf}{If TRUE, plot an ECDF instead of the detection function}

\item{upper}{Vector of upper quantiles to plot}

\item{mode}{Vector of modes to plot (basically the detection function)}

\item{lower}{Vector of lower quantiles to plot}

\item{integrate}{If TRUE, integrate detection function over all od loc's dimensions except for distance}

\item{covariate}{Function transforming distances into effect covariates}

\item{add.uncertainty}{If TRUE, plot uncertainty boundaries}

\item{add.histogram}{If TRUE, use \code{data} to plot a histogram of the detections.}

\item{filter}{A function used to filter the detections before calculating the histogram}

\item{col}{Color to plot mode of detection function}

\item{ucol}{Color to plot uncertainty polygon}
}
\description{
Plots a detection function from a given \link{model} and \link{INLA} estimate.
}
\details{
This function is fairly general but in most cases it is applied to a model of the \link{model.detfun} family. The model is
evaluated for distances from 0 to a value picked by the \code{distance.truncation} parameter. In order
to give an idea about the uncertainty of the estimates, the upper an lower 2.5 percent quantiles are 
plotted as well. Note, however that their estimated are only plausible for some models and a better way
of caclulating the has yet to be implemented. Any of the plotted graphs can be replace by manually 
setting the \code{upper}, \code{lower} and \code{mode} as vectors of values. Note that these must have
length of 500 or otherwise the \code{loc} parameter has to be set to a data frame with a column
called 'distance' corresponding to the distances the graphs are representing.

For convenience multiple plotting options are available. If a \link{dsdata} object is provided, the
detection function is plotted against a histogram of the detection distances. In case the detection
function is only mean to model a subset of the detection, the \code{filter} parameter can be used
to select them.

Plotting detection functions that are conditional on covariated is slightly more involved.
For this purpose please provide the \code{prior} parameter (function) and set \code{integration} to TRUE. 
For each of the location in \code{loc} the prior as well as the detection function are evaluated.
Thereafter all locations are integrated over except for the distance dimension.
}
\author{
Fabian E. Bachl <\email{f.e.bachl@bath.ac.uk}>
}

